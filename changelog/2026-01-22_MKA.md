# 2026-01-22

## Features

### Modul Warta Baru (Warta Module System)

- **Modul 1: Pelayan Ibadah**
  - **Dynamic Editor**: Drag-and-drop reordering untuk role pelayan.
  - **Multiple Names**: Support input banyak nama dalam satu role (dipisah koma).
  - **2-Column Layout**: Tampilan publik otomatis terbagi menjadi 2 kolom seimbang.
  - **Default Template**: Tombol "Gunakan Template Default" untuk mengisi 9 role standar (Pengkhotbah, Liturgos, dll).

- **Modul 2: Statistik Kehadiran**
  - **Table Format**: Editor berbasis tabel untuk input data kehadiran (Bapak, Ibu, PP-Remaja).
  - **Auto-Calculated Totals**: Penjumlahan otomatis untuk total per kategori dan grand total.
  - **Dynamic Rows**: Bisa tambah/hapus baris kategori sesuai kebutuhan.
  - **Public View**: Tampilan tabel responsif dengan format yang rapi.

- **Modul 3: Ulang Tahun (In Progress)**
  - **Date Range**: Input periode tanggal ulang tahun (contoh: 21/01/2026 s/d 27/01/2026).
  - **Editor**: Input nama dan tanggal lahir dengan drag-and-drop reordering.
  - **Public View**: Tabel daftar jemaat yang berulang tahun.

## Refactor & Code Quality

### Alert System Migration

- **Native Alert Replacement**: Mengganti semua penggunaan `window.alert()` browser dengan komponen custom `useToast`.
- **Affected Areas**:
  - Halaman Keuangan (Copy rekening).
  - Halaman Admin Struktur Organisasi (Validasi upload).
  - Halaman Admin Galeri (Validasi upload).

### UI/UX Improvements

- **Drag-and-Drop**: Implementasi `dnd-kit` pada editor Pelayan Ibadah, Statistik, dan Ulang Tahun untuk pengalaman reordering yang smooth.
- **Icons**: Integrasi `lucide-react` untuk icon yang konsisten (Plus, Trash, Grip, User, dll).

### Fixes

- **Tailwind v4 Compatibility**: Memperbaiki warning shorthand syntax (contoh: `flex-shrink-0` -> `shrink-0`).
- **Preview Builders**: Mengupdate logic preview text pada `WartaModuleBuilder` agar sesuai dengan struktur data baru.

## Files Added

- `src/features/warta/components/PelayanIbadahEditor.tsx` - Editor pelayan dengan DnD
- `src/features/warta/components/StatistikEditor.tsx` - Editor statistik dengan tabel & auto-sum
- `src/features/warta/components/UlangTahunEditor.tsx` - Editor ulang tahun dengan date range

## Files Modified

- `src/features/warta/components/ModuleRenderer.tsx` - Register editor komponen baru
- `src/features/warta/components/WartaPublicViewer.tsx` - Implementasi tampilan publik baru
- `src/features/warta/components/WartaModuleBuilder.tsx` - Update preview logic & fix warnings
- `src/app/(public)/keuangan/page.tsx` - Refactor alert to toast
- `src/app/admin/struktur/page.tsx` - Refactor alert to toast
- `src/app/admin/galeri/page.tsx` - Refactor alert to toast
